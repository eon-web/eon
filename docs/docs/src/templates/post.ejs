<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= post.attributes.title %> | <%=posts.config.blogName%></title>
    <link rel="stylesheet" href="/index.css" />
    <link rel="stylesheet" href="/docs/assets/prism.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
    <%const marked = require('marked')%>
    <%const html = require('html-format')%>
</head>

<body>
    <header>
        <div class="left">
            <button id="hamburger"><img src="/docs/assets/icons/menu/hamburger.svg" alt="menu"></button>
            <img src="/docs/assets/logo-no-border.svg" alt="Logo" id="logo" />
            <nav>
                <% posts.config.navLinks.forEach(function (link) { if (link.text) { %>
                    <a href="<%= link.href %>" class="<%- link.href === '/docs' ? 'selected' : ''%>"><%= link.text %></a>
                <% } }); %>
            </nav>
        </div>
    </header>
    <aside>
        <% const groups = posts.sort((a, b) => a.attributes.number - b.attributes.number).reduce((acc, val) => { if(!val.attributes.title) return acc; if (acc[val.attributes.group]) acc[val.attributes.group].push(val); else acc[val.attributes.group] = [val]; return acc}, {}) %>
        <% for (let group in groups) {%>
            <h3 class="group-name"><%= group %></h3>
            <% groups[group].forEach(post => {%>
                <a href="/docs/<%= post.path %> %>"><%= post.attributes.title %></a>
            <% }) %>
        <% } %>
    </aside>
    <main>
        <div class="body">
            <h1 class="title"><%= post.attributes.title %></h1>
            <p class="description"><%= post.attributes.description %></p>
            <%- post.body %>
        </div>
        <div class="col-right"></div>
    </main>
</body>

</html>